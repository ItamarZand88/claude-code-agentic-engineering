{
  "description": "Agent SDK Pro hooks â€” detects SDK projects at session start and optionally provides real-time feedback on TypeScript SDK files",
  "hooks": {
    "SessionStart": [
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "command",
            "command": "bash ${CLAUDE_PLUGIN_ROOT}/hooks/scripts/detect-sdk-project.sh",
            "timeout": 10000
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Write|Edit",
        "hooks": [
          {
            "type": "command",
            "command": "bash -c 'test -f \"${CLAUDE_PROJECT_DIR}/.enable-sdk-feedback\" && echo \"enabled\" || exit 0'",
            "timeout": 3000
          },
          {
            "type": "prompt",
            "prompt": "The previous command checked for an opt-in flag. If its output was empty (flag absent), suppress all output and stop. If the output was 'enabled' AND the edited file ends with '.ts', analyze whether it contains Agent SDK patterns (@anthropic-ai/claude-agent-sdk imports, HookCallback usage, query() calls). If SDK patterns are present, provide concise feedback: check for signal.aborted guard, correct type guards (isPreToolUseInput/isPostToolUseInput), safe helper usage (getToolInputFilePath/getToolInputCommand), and proper HookJSONOutput structure. Keep feedback under 5 bullet points. If no SDK patterns found, suppress output.",
            "timeout": 30000
          }
        ]
      }
    ]
  }
}
